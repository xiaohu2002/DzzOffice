<!--{template common/header_simple_start}-->
<link rel="stylesheet" type="text/css" href="static/lyear/js/bootstrap-lyear-select/bootstrap-lyear-select.css?{VERHASH}">
<script src="admin/scripts/admin.js?{VERHASH}"></script>
<style>
.loginset-template {
	width: 100px;
	overflow: hidden;
	float: left;
	margin-right: 10px;
	display: block;
	position: relative;
}
.loginset-template .loginset-template-icon {
	width: 20px;
	height: 20px;
	border: 1px solid #AAB479;
	position: absolute;
	right: 1px;
	top: 1px;
	color: #DD4B39;
	font-size: 15px;
	display: none;
}
.loginset-template:hover .loginset-template-icon {
	display: block;
}
.loginset-template:hover .loginset-template-icon > span {
	display: none;
}
.loginset-template .loginset-template-icon1 {
	display: block !important;
}
.loginset-template .loginset-template-icon1 > span {
	display: block !important;
}
.file-hidde-content{
    position: relative;
    float: left;
}
.file-hidde-content .upold-add{
    max-height: 55px;
    max-width: 55px;
}
.file-hidde-content .file-hidde{
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  opacity: 0;
	left: 0;
}
.file-hidde-content .progress-bar{
   position: absolute;
    height: 1px;
}
</style>
<!--{template common/header_simple_end}-->
<!--{template common/commer_header}-->
<div class="bs-container clearfix">
  <div class="bs-left-container  clearfix"> 
    <!--{template left}--> 
  </div>
  <div class="left-drager"> </div>
  <div class="bs-main-container  clearfix">
		<div class="main-header clearfix"> 
    <!--{if $operation=='censor' || $operation=='space' || $operation == 'permgroup'}-->
			<ul class="nav nav-pills">
        <li class="nav-item"><a class="nav-link active" href="{MOD_URL}&operation=$operation">{lang set}</a></li>
      </ul>
      <!--{elseif $operation=='mail'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"><a class="nav-link active" href="{MOD_URL}&operation=mail">{lang set}</a></li>
        <li class="nav-item"><a class="nav-link" href="{MOD_URL}&op=mailcheck">{lang setting_mail_check}</a></li>
      </ul>
      <!--{elseif $operation=='smiley'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"><a class="nav-link active" href="{MOD_URL}&operation=smiley">{lang expression_set}</a> </li>
        <li class="nav-item"><a class="nav-link" href="{MOD_URL}&op=smiley">{lang expression_class}</a></li>
      </ul>
      <!--{elseif $operation=='qywechat'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"><a class="nav-link active" href="{MOD_URL}&operation=qywechat">{lang
          enterprise_binding}</a></li>
        <!--{if $setting[CorpID] && $setting[CorpSecret]}-->
        <li class="nav-item"><a class="nav-link" href="{MOD_URL}&op=assistant">{lang enterprise_little_helper}</a></li>
        <li class="nav-item"><a class="nav-link" href="{MOD_URL}&op=wxsyn">{lang data_synchronization}</a></li>
        <!--{/if}-->
      </ul>
      <!--{elseif $operation=='basic'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"> <a class="nav-link active" href="{MOD_URL}&operation=basic">{lang members_verify_base}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=datetime">{lang time_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=upload">{lang upload_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=at">@{lang sector_set}</a> </li>
				<li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=notification">{lang Notification Settings}</a> </li>
      </ul>
      <!--{elseif $operation=='cachethread'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"> <a class="nav-link active" href="{MOD_URL}&operation=cachethread">{lang set}</a></li>
      </ul>
      <!--{elseif $operation=='at'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=basic">{lang members_verify_base}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=datetime">{lang time_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=upload">{lang upload_set}</a> </li>
        <li class="nav-item"> <a class="nav-link active" href="{MOD_URL}&operation=at">@{lang sector_set}</a> </li>
				<li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=notification">{lang Notification Settings}</a> </li>
      </ul>
			<!--{elseif $operation=='notification'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=basic">{lang members_verify_base}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=datetime">{lang time_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=upload">{lang upload_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=at">@{lang sector_set}</a> </li>
				<li class="nav-item"> <a class="nav-link active" href="{MOD_URL}&operation=notification">{lang Notification Settings}</a> </li>
      </ul>
      <!--{elseif $operation=='upload'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=basic">{lang members_verify_base}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=datetime">{lang time_set}</a> </li>
        <li class="nav-item"> <a class="nav-link active" href="{MOD_URL}&operation=upload">{lang upload_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=at">@{lang sector_set}</a> </li>
				<li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=notification">{lang Notification Settings}</a> </li>
      </ul>
      <!--{elseif $operation=='loginset'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=denlu">{lang basicSet}</a></li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=access">{lang register_visit}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=sec">{lang verification_code_set}</a> </li>
        <li class="nav-item"> <a class="nav-link active" href="{MOD_URL}&operation=loginset">{lang login_page_set}</a> </li>
      </ul>
      <!--{elseif $operation=='denlu'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"> <a class="nav-link active" href="{MOD_URL}&operation=denlu">{lang basicSet}</a></li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=access">{lang register_visit}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=sec">{lang verification_code_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=loginset">{lang login_page_set}</a> </li>
      </ul>
      <!--{elseif $operation=='access'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=denlu">{lang basicSet}</a></li>
        <li class="nav-item"> <a class="nav-link active" href="{MOD_URL}&operation=access">{lang register_visit}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=sec">{lang verification_code_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=loginset">{lang login_page_set}</a> </li>
      </ul>
      <!--{elseif $operation=='datetime'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=basic">{lang members_verify_base}</a> </li>
        <li class="nav-item"> <a class="nav-link active" href="{MOD_URL}&operation=datetime">{lang time_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=upload">{lang upload_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=at">@{lang sector_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=notification">{lang Notification Settings}</a> </li>
      </ul>
      <!--{elseif $operation=='sec'}-->
      <ul class="nav nav-pills">
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=denlu">{lang basicSet}</a></li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=access">{lang register_visit}</a> </li>
        <li class="nav-item"> <a class="nav-link active" href="{MOD_URL}&operation=sec">{lang verification_code_set}</a> </li>
        <li class="nav-item"> <a class="nav-link" href="{MOD_URL}&operation=loginset">{lang login_page_set}</a> </li>
      </ul>
      <!--{/if}--> 
    </div>
    <div class="main-content">
      <!--{if $operation=='basic'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post"  name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="basic" name="operation">
        <div class="row mb-3">
          <label class="col-sm-2">{lang sitelogo}</label>
          <div class="col-sm-10">		
            <div class="file-hidde-content">
              <img src="{eval echo $_G['setting']['sitelogo']?'index.php?mod=io&op=thumbnail&size=small&path='.dzzencode('attach::'.$_G['setting']['sitelogo']):'static/image/common/logo.png';}" class="upold-add">
              <input type="file" name="files[]" value="" class="file-hidde" />
              <input type="hidden" name="settingnew[sitelogo]" value="$setting[sitelogo]" class="build-images" /> 
              <div class="progress-bar"></div>
            </div>	
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="sitename">{lang terrace_name}</label>
          <div class="col-sm-10">
            <input type="text" id="sitename" required name="settingnew[sitename]" class="form-control" value="$setting[sitename]">
            <span class="help-block">{lang terrace_name_state} </span>
          </div>
        </div>
        <div class="row mb-3"> 
          <label class="col-sm-2">{lang default_app}</label>
          <div class="col-sm-10">
            <input type="hidden" name="old_default_mod" class="form-control" value="$setting[default_mod]">
            <select name="settingnew[default_mod]" class="form-select">
              <option value="index">{lang please_select_default_index}</option> 
              <!--{loop $applist $value}--> 
              <option value="$value[identifier]" <!--{if $value[ 'identifier']==$setting[default_mod]}-->selected="selected"  <!--{/if}-->>$value[appname] </option>
              <!--{/loop}-->
            </select>
            <span class="help-block">{lang default_app_desc} </span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">系统首页登录访问</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="indexlogin1" name="settingnew[indexlogin]" <!--{if $setting['indexlogin']}-->checked="checked"<!--{/if}--> value="1">
              <label class="form-check-label" for="indexlogin1">{lang yes}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="indexlogin2" name="settingnew[indexlogin]" <!--{if !$setting['indexlogin']}-->checked="checked"<!--{/if}--> value="0">
              <label class="form-check-label" for="indexlogin2">{lang  no}</label>
            </div>
            <ul class="help-block" >
              内置的首页是否需要登录才能访问。
            </ul>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang user_default_join_department}</label>
          <div class="col-sm-10">
            <div class="dropdown">
              <input id="sel_defaultdepartment" type="hidden" name="settingnew[defaultdepartment]" value="$setting[defaultdepartment]"/>
              <button type="button" id="defaultdepartment_Menu" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown"> $defaultdepartment </button>
              <div id="defaultdepartment_dropdown_menu" class="dropdown-menu org-sel-box" role="menu" aria-labelledby="defaultdepartment_Menu">
                <iframe name="defaultdepartment_iframe" class="org-sel-box-iframe" src="index.php?mod=system&op=orgtree&ctrlid=defaultdepartment&nouser=1&stype=1"  frameborder="0" marginheight="0" marginwidth="0" width="100%" height="100%"  allowtransparency="true"></iframe>
              </div>
            </div>
            <span class="help-block">{lang setting_main_section}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang thumbnail_size}</label>
          <div class="col-sm-10">
            <span class="badge rounded-pill bg-primary" style="display:inline-block;padding:10px 15px;margin-right:10px;">{lang large_size}</span>
            <input name="settingnew[thumbsize][small][width]" class="form-control" style="display:inline-block;float:none;width:60px" placeholder="{lang width}" value="{eval echo $setting['thumbsize']['small']['width']?$setting['thumbsize']['small']['width']:'256'}"/>
            <span style="display:inline-block;padding:6px 3px">X</span>
            <input name="settingnew[thumbsize][small][height]" class="form-control" style="display:inline-block;float:none;width:60px" placeholder="{lang height}" value="{eval echo $setting['thumbsize']['small']['height']?$setting['thumbsize']['small']['height']:'256'}"/>
            <span class="badge rounded-pill bg-success" style="display:inline-block;padding:10px 15px;margin-right:10px;">{lang chinese_size}</span>
            <input name="settingnew[thumbsize][middle][width]" class="form-control" style="display:inline-block;float:none;width:60px" placeholder="{lang width}" value="{eval echo $setting['thumbsize']['middle']['width']?$setting['thumbsize']['middle']['width']:'800'}"/>
            <span style="display:inline-block;padding:6px 3px">X</span>
            <input name="settingnew[thumbsize][middle][height]" class="form-control" style="display:inline-block;float:none;width:60px" placeholder="{lang height}" value="{eval echo $setting['thumbsize']['middle']['height']?$setting['thumbsize']['middle']['height']:'600'}"/>
            <span class="badge rounded-pill bg-danger" style="display:inline-block;padding:10px 15px;margin-right:10px;">{lang max_size}</span>
            <input name="settingnew[thumbsize][large][width]" class="form-control" style="display:inline-block;float:none;width:60px" placeholder="{lang width}" value="{eval echo $setting['thumbsize']['large']['width']?$setting['thumbsize']['large']['width']:'1440'}"/>
            <span style="display:inline-block;padding:6px 3px">X</span>
            <input name="settingnew[thumbsize][large][height]" class="form-control" style="display:inline-block;float:none;width:60px" placeholder="{lang height}" value="{eval echo $setting['thumbsize']['large']['height']?$setting['thumbsize']['large']['height']:'900'}"/>
            <ul class="help-block">
              {lang setting_main_thumbnail_size}
            </ul>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang thumbnail_generation}</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="thumb_active1" name="settingnew[thumb_active]" <!--{if $setting['thumb_active']}-->checked="checked"<!--{/if}--> value="1">
              <label class="form-check-label" for="thumb_active1">{lang active_mode}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="thumb_active2" name="settingnew[thumb_active]" <!--{if !$setting['thumb_active']}-->checked="checked"<!--{/if}--> value="0">
              <label class="form-check-label" for="thumb_active2">{lang  passive_mode}</label>
            </div>
            <ul class="help-block" >
              {lang setting_main_thumbnail_generation}
            </ul>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">图片处理库类型</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="imagelib1" name="settingnew[imagelib]" value="0" <!--{if !$setting[imagelib]}-->checked="checked" <!--{/if}-->>
              <label class="form-check-label" for="imagelib1">GD</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="imagelib2" name="settingnew[imagelib]" value="1" <!--{if $setting[imagelib]}-->checked="checked"<!--{/if}-->>
              <label class="form-check-label" for="imagelib2">ImageMagick</label>
            </div>
            <span class="help-block">处理缩略图和水印的图像处理库。GD 是最广泛的处理库但是使用的系统资源较多。ImageMagick速度快系统资源占用少，但安全性相对较差，且需要服务器安装 ImageMagick 扩展。</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang file_sharing}</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="allowshare1" name="settingnew[allowshare]" value="0"<!--{if !$setting[allowshare]}--> checked <!--{/if}-->onclick="document.getElementById('bballowshare').style.display='none'">
              <label class="form-check-label" for="allowshare1">{lang enable}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="allowshare2" name="settingnew[allowshare]"  value="1"<!--{if $setting[allowshare]}--> checked <!--{/if}-->onclick="document.getElementById('bballowshare').style.display='block'">
              <label class="form-check-label" for="allowshare2">{lang forbidden}</label>
            </div>
            <span class="help-block"> {lang setting_main_file_sharing}</span>
          </div>
        </div>
        <div id="bballowshare" style=" <!--{if !$setting[allowshare]}-->display:none;<!--{/if}--> ">
          <div class="row mb-3">
          <label class="col-sm-2">是否禁用已分享的文件</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="ballowshare1" name="settingnew[ballowshare]" value="0"<!--{if !$setting[ballowshare]}--> checked <!--{/if}-->>
              <label class="form-check-label" for="allowshare1">{lang yes}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="ballowshare2" name="settingnew[ballowshare]"  value="1"<!--{if $setting[ballowshare]}--> checked <!--{/if}-->>
              <label class="form-check-label" for="allowshare2">{lang no}</label>
            </div>
            <span class="help-block">选择是时，已分享文件将无法访问。</span>
          </div>
        </div>
        </div>
        <div class="row mb-3">
            <label class="col-sm-2" for="sitecopyright">{lang platform_copyright}</label>
            <div class="col-sm-10">
              <textarea type="textarea" class="form-control" id="sitecopyright" required name="settingnew[sitecopyright]" row="6">$setting[sitecopyright]</textarea>
              <ul class="help-block">
                支持html代码和变量替换，可以使用如下变量:
                <li><code>{xhversion}</code> : 小胡版版本</li>
                <li><code>{version}</code> : 官方版本</li>
                <li><code>{years}</code> : 当前年份</li>
                <li><code>{username}</code> : 当前用户名</li>
                <li><code>{time}</code> : 当前时间</li>
                <li><code>{sitename}</code> : 网站名称（显示在页面底部的联系方式处的名称）</li>
                <li><code>{bbname}</code> : 站点名称（显示在浏览器窗口标题等位置的名称）</li>
                <li><code>{adminemail}</code> : 管理员 Email</li>
                <li>例如输入<code>{username} {time}</code>就可以显示为<code>admin 2024-6-6 21:26</code></li>
              </ul>
            </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="sitebeian">{lang platform_beian}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="sitebeian" name="settingnew[sitebeian]" value="$setting[sitebeian]" />
            <span class="help-block">{lang setting_main_html_size}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="metakeywords">{lang platform_keywords}</label>
          <div class="col-sm-10">
            <textarea type="textarea" class="form-control" id="metakeywords" name="settingnew[metakeywords]" row="6">$setting[metakeywords]</textarea>
            <span class="help-block"> {lang platform_seo_keywords}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="metadescription">{lang Platform_described}</label>
          <div class="col-sm-10">
            <textarea type="textarea" class="form-control" id="metadescription" name="settingnew[metadescription]" row="6">$setting[metadescription]</textarea>
            <span class="help-block"> {lang Platform_seo_described}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="statcode">{lang statistical_code}</label>
          <div class="col-sm-10">
            <textarea type="textarea" class="form-control" id="statcode" name="settingnew[statcode]" row="6">$setting[statcode]</textarea>
            <span class="help-block">{lang support_html_code}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="gonggao">公告</label>
          <div class="col-sm-10">
            <textarea type="textarea" class="form-control" id="gonggao" name="settingnew[gonggao]" row="6">$setting[gonggao]</textarea>
            <span class="help-block">全站公告</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang close_terrace}</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="bbclosed1" name="settingnew[bbclosed]" value="1" <!--{if $setting[bbclosed]}-->checked<!--{/if}--> onclick="document.getElementById('bbclosedreason').style.display='block'">
              <label class="form-check-label" for="bbclosed1">{lang yes}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="bbclosed2" name="settingnew[bbclosed]" value="0" <!--{if !$setting[bbclosed]}-->checked<!--{/if}--> onclick="document.getElementById('bbclosedreason').style.display='none'">
              <label class="form-check-label" for="bbclosed2">{lang no}</label>
            </div>
            <span class="help-block">{lang setting_main_close_terrace}</span>
          </div>
        </div>
        <div id="bbclosedreason" style=" <!--{if !$setting[bbclosed]}-->display:none;<!--{/if}--> ">
          <div class="row mb-3">
            <label class="col-sm-2">{lang setting_main_cause}</label>
            <div class="col-sm-10">
              <textarea type="textarea" class="form-control" id="closedreason" required name="settingnew[closedreason]">$setting[closedreason]</textarea>
              <span class="help-block">{lang setting_main_board_message}</span>
            </div>
          </div>
        </div>
        <dl>
          <input class="btn btn-primary" id="submit_editsubmit" name="settingsubmit" value="{lang save_changes}" type="submit">
        </dl>
      </form>
      <script type="text/javascript">

        var selorg={};
          //添加
          selorg.add = function (ctrlid, vals) {
              if (vals[0].orgid == 'other') vals[0].path = '{lang no_join_agency_department}';
              jQuery('#' + ctrlid + '_Menu').html(vals[0].path + ' ');
              jQuery('#sel_' + ctrlid).val(vals[0].orgid);
          }
      </script>
      <!--{elseif $operation=='cachethread'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="denlu" name="operation">
        <div class="row mb-3">
          <label class="col-sm-2">禁止浏览器缓冲</label>
					<div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="nocacheheaders1" name="settingnew[nocacheheaders]" value="1" <!--{if $setting[nocacheheaders]}-->checked<!--{/if}-->>
              <label class="form-check-label" for="nocacheheaders1">{lang yes}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="nocacheheaders2" name="settingnew[nocacheheaders]" value="0" <!--{if !$setting[nocacheheaders]}-->checked<!--{/if}-->>
              <label class="form-check-label" for="nocacheheaders2">{lang no}</label>
            </div>
            <span class="help-block">禁止浏览器对系统页面进行缓冲，可用于解决极个别浏览器内容刷新不正常的问题，会加重服务器负担。</span>
          </div>
        </div>
        <div class="row mb-3">
          <label for="onlinehold" class="col-sm-2">在线保持时间</label>
          <div class="col-sm-10">
            <div class="input-group mb-3">
              <input type="text" class="form-control" id="onlinehold" name="settingnew[onlinehold]" <!--{if isset($setting['onlinehold'])}-->value="$setting[onlinehold]" <!--{/if}-->>
              <span class="input-group-text">{lang minute}</span>
            </div>
            <ul class="help-block">
              <li>请根据访问情况设置合理的数值，访问量大的站点应当调小该数值，设置范围<code>5 - 60</code>，过大或者过小的设置都有可能会增大服务器资源开销本。</li>
            </ul>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">关闭session机制</label>
					<div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="sessionclose1" name="settingnew[sessionclose]" value="1" <!--{if $setting[sessionclose]}-->checked<!--{/if}-->>
              <label class="form-check-label" for="sessionclose1">{lang yes}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="sessionclose2" name="settingnew[sessionclose]" value="0" <!--{if !$setting[sessionclose]}-->checked<!--{/if}-->>
              <label class="form-check-label" for="sessionclose2">{lang no}</label>
            </div>
            <span class="help-block">关闭session机制以后，可明显降低站点的服务器负担，建议在线用户数超过2万时开启本功能。（注意：游客数和用户的在线时长将不再进行统计，在线用户列表功能将不可用）</span>
          </div>
        </div>
        <dl>
          <input class="btn btn-primary" id="submit_editsubmit" name="settingsubmit"  value="{lang save_changes}" type="submit">
        </dl> 
      </form>
      <script type="text/javascript" src="static/lyear/js/bootstrap-touchspin/jquery.bootstrap-touchspin.min.js"></script>
      <script type="text/javascript">
        $(document).ready(function(){
            // 初始化数值
            $("#onlinehold").TouchSpin({
                min: 5,
                initval: 60,
                max:60,
            });
        });
      </script>
      <!--{elseif $operation=='at'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform" style="margin-top: 15px;">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="upload" name="operation">
          <!--{loop $usergroups $value}-->
          <div class="col-sm-10">
            <div class="row mb-3">
              <label class="col-sm-2">$value[grouptitle]</label>
              <div class="col-sm-10">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" id="settingnew[at_range][{$value[groupid]}]1" name="settingnew[at_range][{$value[groupid]}]" <!--{if $setting['at_range'][{$value[groupid]}]==3}-->checked="checked" 
                  <!--{/if}--> value="3">
                  <label class="form-check-label" for="settingnew[at_range][{$value[groupid]}]1">{lang all_agencies}</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" id="settingnew[at_range][{$value[groupid]}]2" name="settingnew[at_range][{$value[groupid]}]" <!--{if $setting['at_range'][{$value[groupid]}]==2}-->checked="checked" 
                  <!--{/if}--> value="2">
                  <label class="form-check-label" for="settingnew[at_range][{$value[groupid]}]2">{lang agency_department}</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" id="settingnew[at_range][{$value[groupid]}]3" name="settingnew[at_range][{$value[groupid]}]" <!--{if $setting['at_range'][{$value[groupid]}]==1}-->checked="checked" 
                  <!--{/if}--> value="1">
                  <label class="form-check-label" for="settingnew[at_range][{$value[groupid]}]3">{lang profile_privacy_1}</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" id="settingnew[at_range][{$value[groupid]}]4" name="settingnew[at_range][{$value[groupid]}]" <!--{if $setting['at_range'][{$value[groupid]}]==0}-->checked="checked" 
                  <!--{/if}--> value="0">
                  <label class="form-check-label" for="settingnew[at_range][{$value[groupid]}]4">{lang no_section}</label>
                </div>
              </div>
            </div>
          </div>
          <!--{/loop}-->
        <dl>
            <input class="btn btn-primary" id="submit_editsubmit" name="settingsubmit" value="{lang save_changes}" type="submit">
        </dl>
      </form>
      <!--{elseif $operation=='notification'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="notification" name="operation">
        <div class="row mb-3">
          <label for="notification" class="col-sm-2">通知刷新间隔</label>
          <div class="col-sm-10">
            <div class="input-group mb-3">
              <input type="text" id="notification" class="form-control" required name="settingnew[notification]" value="$setting[notification]" />
              <span class="input-group-text">秒</span>
            </div>
            <ul class="help-block">
              <li>间隔越短接收新消息越快，同时对服务器的性能要求越高，不建议配置差的服务器将间隔调太小。</li>
              <li>如：间隔时间为1，表示每一秒请求服务器查看是否有新消息，相当于每个一秒就会访问服务器。</li>
              <li>注意是填整数</li>
            </ul>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">通知重复</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="Duplicatenotification1" name="settingnew[Duplicatenotification]" value="1" <!--{if $setting[Duplicatenotification]}--> checked="checked" <!--{/if}-->>
              <label class="form-check-label" for="Duplicatenotification1">{lang enable}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="Duplicatenotification2" name="settingnew[Duplicatenotification]" value="0" <!--{if !$setting[Duplicatenotification]}-->checked="checked"<!--{/if}-->>
              <label class="form-check-label" for="Duplicatenotification2">{lang close}</label>
            </div>
            <ul class="help-block">
              <li>关闭之后同一应用同一用户时覆盖原上条消息后接收</li>
              <li>开启之后任何消息不覆盖上条消息进行接收</li>
            </ul>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">浏览器报错消息提示</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="addEventListener1" name="settingnew[addEventListener]" value="1" <!--{if $setting[addEventListener]}--> checked="checked" <!--{/if}-->>
              <label class="form-check-label" for="addEventListener1">{lang enable}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="addEventListener2" name="settingnew[addEventListener]" value="0" <!--{if !$setting[addEventListener]}-->checked="checked"<!--{/if}-->>
              <label class="form-check-label" for="addEventListener2">{lang close}</label>
            </div>
            <ul class="help-block">
              <li>启用之后前端发生报错，就会提示报错信息。</li>
            </ul>
          </div>
        </div>
        <dl>
          <input class="btn btn-primary" id="submit_editsubmit" name="settingsubmit"  value="{lang save_changes}" type="submit">
        </dl>
      </form>
      <script type="text/javascript" src="static/lyear/js/bootstrap-touchspin/jquery.bootstrap-touchspin.min.js"></script>
      <script type="text/javascript">
      $(document).ready(function(){
          // 初始化数值
          $("#notification").TouchSpin({
              min: 1,
              initval: 40,
              max:99999999,
          });
      });
      </script>
      <!--{elseif $operation=='upload'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="upload" name="operation">
        <div class="row mb-3">
          <label for="upload_file_ext" class="col-sm-2">{lang setting_main_suffix}</label>
          <div class="col-sm-10">
            <div class="input-group mb-3">
              <input class="js-tags-input form-control" type="text" id="upload_file_ext" name="settingnew[unRunExts]" value="$setting[unRunExts]" >
            </div>
            <ul class="help-block">
              {lang setting_main_suffix_text}
            </ul>
          </div>
        </div>
        <div class="row mb-3">
          <label for="maxChunkSize" class="col-sm-2">{lang upload_block_size}</label>
          <div class="col-sm-10">
            <div class="input-group mb-3">
              <input type="text" class="form-control" id="maxChunkSize" required name="settingnew[maxChunkSize]" value="$setting[maxChunkSize]">
              <span class="input-group-text">M</span>
            </div>
            <ul class="help-block">
               {lang upload_block_size_text}
             </ul>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang file_more_version_set}</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="fileVersion1" name="settingnew[fileVersion]" value="1" <!--{if !isset($setting[fileVersion]) || (isset($setting[fileVersion]) && $setting[fileVersion])}--> checked="checked" <!--{/if}-->>
              <label class="form-check-label" for="fileVersion1">{lang enable}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="fileVersion2" name="settingnew[fileVersion]" value="0" <!--{if isset($setting[fileVersion]) && !$setting[fileVersion]}-->checked="checked"<!--{/if}-->>
              <label class="form-check-label" for="fileVersion2">{lang close}</label>
            </div>
          </div>
        </div>
        <div id="fileVersionNumber" class="function-space <!--{if isset($setting[fileVersion]) && !$setting[fileVersion]}--> hide <!--{/if}-->">
          <div class="row mb-3">
           <label for="fileVersionNumber1" class="col-sm-2">{lang file_multiple_version_features}</label>
            <div class="col-sm-10">
              <div class="input-group mb-3">
                <input type="text" class="form-control" required id="fileVersionNumber1" name="settingnew[fileVersionNumber]" <!--{if isset($setting['fileVersion'])}-->value="$setting[fileVersionNumber]" <!--{/if}-->  placeholder="0">
                <span class="input-group-text">{lang individual}</span>
              </div>
              <ul class="help-block">
               <li>{lang allow_number_uploaded_versions_tip}</li>
             </ul>
            </div>
         </div>
        </div>
        <dl>
            <input class="btn btn-primary" id="submit_editsubmit" name="settingsubmit" value="{lang save_changes}" type="submit">
        </dl>
      </form>
      <link rel="stylesheet" type="text/css" href="static/tagsinput/jquery.tagsinput.css">
      <script type="text/javascript" src="static/tagsinput/jquery.tagsinput.js"></script>
      <script type="text/javascript">
          jQuery('input[name="settingnew[fileVersion]"]').click(function(){
              var val = $(this).val();
              if(val == 0){
                 jQuery('#fileVersionNumber').addClass('hide');
              }else{
                  jQuery('#fileVersionNumber').removeClass('hide');
              }
          })
      </script>
      <!--{elseif $operation=='loginset'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="loginset" name="operation">
        <input type="hidden" value="1" name="settingnew[loginset][available]">
        <div class="row mb-3">
          <label class="col-sm-2" for="title">{lang main_title_page}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="title" name="settingnew[loginset][title]" value="$setting[loginset][title]"/>
            <span class="help-block">{lang main_title_page_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="subtitle">{lang page_subtitle}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="subtitle" name="settingnew[loginset][subtitle]" value="$setting[loginset][subtitle]"/>
            <span class="help-block">{lang page_subtitle_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="background">{lang page_background}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="background" name="settingnew[loginset][background]" value="$setting[loginset][background]"/>
            <span class="help-block">{lang for_color_set}设置的图片或网站会同步到首页背景设置。</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="kbcolor">登录框背景</label>
					<div class="col-sm-10">
              <input type="text" class="form-control" id="kbcolor" name="settingnew[loginset][kbcolor]" value="$setting[loginset][kbcolor]">
              <span class="help-block">可以为颜色(如:#FFF);图片(以.jpeg,.jpg,.png结尾)。</span>
          </div>
        </div>
				<div class="row mb-3">
          <label class="col-sm-2" for="transparency">输入框背景颜色</label>
					<div class="col-sm-10">
              <input type="text" id="transparency" class="form-control" name="settingnew[loginset][transparency]" value="$setting[loginset][transparency]">
            <span class="help-block">只能输入颜色(如:rgba(8, 169, 249, 0.57))</span>
          </div>
        </div>
				<div class="row mb-3">
          <label class="col-sm-2" for="lwaveanimation">登录框水波动画</label>
					<div class="col-sm-10">
              <div class="form-check form-switch">
            <input type="checkbox" name="settingnew[loginset][lwaveanimation]" id="lwaveanimation" class="form-check-input" <!--{if $setting[loginset][lwaveanimation]}-->checked="checked"<!--{/if}-->> 
          </div>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="adminlogin">管理员登录按钮</label>
					<div class="col-sm-10">
              <div class="form-check form-switch">
                <input type="checkbox" name="settingnew[loginset][adminlogin]" id="adminlogin" class="form-check-input" <!--{if $setting[loginset][adminlogin]}-->checked="checked"<!--{/if}-->> 
              </div>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang Login template}</label>
          <div class="col-sm-10">
            <div class="input-group mb-3">
              <a class="loginset-template" href="admin/setting/images/template1.png" target="_blank">
                <div class="loginset-template-icon<!--{if $setting[loginset][template] ==1}--> loginset-template-icon1<!--{/if}-->" data-template="1">
                  <span class="glyphicon glyphicon-ok"></span>
                </div>
                <img style="width: 100%;" src="admin/setting/images/template1.png" alt=""/>
              </a>
              <a class="loginset-template" href="admin/setting/images/template2.jpg" target="_blank">
                <div class="loginset-template-icon<!--{if $setting[loginset][template] == 2}--> loginset-template-icon1<!--{/if}-->" data-template="2">
                    <span class="glyphicon glyphicon-ok"></span>
                </div>
                <img style="width: 100%;" src="admin/setting/images/template2.jpg" alt=""/>
              </a>
							<a class="loginset-template" href="admin/setting/images/template3.png" target="_blank">
                <div class="loginset-template-icon<!--{if $setting[loginset][template] == 3}--> loginset-template-icon1<!--{/if}-->" data-template="3">
                    <span class="glyphicon glyphicon-ok"></span>
                </div>
                <img style="width: 100%;" src="admin/setting/images/template3.png" alt=""/>
              </a>
							<a class="loginset-template" href="admin/setting/images/template4.png" target="_blank">
                <div class="loginset-template-icon<!--{if $setting[loginset][template] == 4}--> loginset-template-icon1<!--{/if}-->" data-template="4">
                    <span class="glyphicon glyphicon-ok"></span>
                </div>
                <img style="width: 100%;" src="admin/setting/images/template4.png" alt=""/>
              </a>
              <input type="hidden" class="form-control loginset-template-input" name="settingnew[loginset][template]" value="$setting[loginset][template]"/>
            </div>
            <span class="help-block">{lang Independent login page login template; Parameters will be synchronized to login (including administrator login), registration, password retrieval, and home application.}</span>
          </div>
        </div>
        <dl>
            <input class="btn btn-primary" id="submit_editsubmit" name="settingsubmit" value="{lang save_changes}" type="submit">
        </dl>
      </form>
      <script type="text/javascript">
          jQuery(document).on('click', '.loginset-template-icon', function () {
              jQuery(this).addClass('loginset-template-icon1').closest('.loginset-template').siblings().find('.loginset-template-icon').removeClass('loginset-template-icon1');
              jQuery('.loginset-template-input').val(jQuery(this).data('template'));
              return false;
          })
      </script> 
      <!--{elseif $operation=='mail'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="mail" name="operation">
        <div class="row mb-3">
          <label class="col-sm-2" for="adminemail">{lang administrator_email}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="adminemail" name="settingnew[adminemail]" value="$setting[adminemail]">
            <span class="help-block"> {lang administrator_email_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang mail_way_send}</label>
          <div class="col-sm-10">
            <div class="form-check">
              <input class="form-check-input" type="radio" id="mailsend1" name="settingnew[mail][mailsend]" value="1" <!--{if $setting[mail][mailsend]=='1'}--> checked<!--{/if}--> onclick="document.getElementById('hidden1').style.display='none';document.getElementById('hidden2').style.display='none';">
              <label class="form-check-label" for="mailsend1">{lang mail_way_send1}</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="mailsend2" name="settingnew[mail][mailsend]" value="2" <!--{if $setting[mail][mailsend]=='2'}--> checked<!--{/if}--> onclick="document.getElementById('hidden1').style.display='table';document.getElementById('hidden2').style.display='none';">
              <label class="form-check-label" for="mailsend2">{lang mail_way_send2}</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="mailsend3" name="settingnew[mail][mailsend]" value="3" <!--{if $setting[mail][mailsend]=='3'}-->checked<!--{/if}--> onclick="document.getElementById('hidden2').style.display='table';document.getElementById('hidden1').style.display='none';">
              <label class="form-check-label" for="mailsend3">{lang mail_way_send3}</label>
            </div>
          </div>
          <div class="col-sm-10">
            <table id="hidden1" class="table text-center" style="margin-bottom:0; <!--{if $setting[mail][mailsend]!=2}-->display:none<!--{/if}-->">
              <thead>
                <tr> {lang mail_way_send4}</tr>
              </thead>
              <!--{loop $smtps $id $smtp}-->
              <tr>
                <td>
                  <label>
                    <input type="checkbox" class="form-check-input" name="settingnew[mail][esmtp][delete][]" value="$id"/>
                  </label>
                </td>
                <td><input class="form-control" style="width:120px;" type="text" name="settingnew[mail][esmtp][$id][server]" value="$smtp[server]"/></td>
                <td width="40"><input class="form-control" style="width:30px" type="text" name="settingnew[mail][esmtp][$id][port]" value="$smtp[port]"/></td>
                <td width="40">
                  <label>
                    <input type="checkbox"  class="form-check-input" name="settingnew[mail][esmtp][$id][auth]" value="1" $smtp[authcheck]/>
                  </label>
                </td>
                <td><input class="form-control" style="width:120px;" type="text" name="settingnew[mail][esmtp][$id][from]" value="$smtp[from]"/></td>
                <td><input class="form-control" style="width:100px;" type="text" name="settingnew[mail][esmtp][$id][auth_username]" value="$smtp[auth_username]"/></td>
                <td><input class="form-control" style="width:100px;" type="text" name="settingnew[mail][esmtp][$id][auth_password]" value="$smtp[auth_password]"/></td>
              </tr>
              <!--{/loop}-->
              <tr>
                <td colspan="7" align="left"><a href="javascript:;" onclick="addSMTP(this,1)"><i class="glyphicon glyphicon-plus"></i>{lang add_SMTP_server}</a></td>
              </tr>
            </table>
            <table id="hidden2" class="table table-hover" style="margin-bottom:0; <!--{if $setting[mail][mailsend]!=3}-->display:none<!--{/if}-->">
              <thead>{lang add_SMTP_server_set}</thead>
              <!--{loop $smtps $id $smtp}-->
              <tr>
                <td>
                  <label>
                    <input type="checkbox"  class="form-check-input" name="settingnew[mail][smtp][delete][]" value="$id"/>
                  </label>
                </td>
                <td><input class="form-control" type="text" name="settingnew[mail][smtp][$id][server]" value="$smtp[server]"/></td>
                <td width="60"><input class="form-control" style="width:50px" type="text" name="settingnew[mail][smtp][$id][port]" value="$smtp[port]"/></td>
              </tr>
              <!--{/loop}-->
              <tr>
                <td colspan="7" align="left"><a href="javascript:;" onclick="addSMTP(this,0)"><i class="glyphicon glyphicon-plus"></i>{lang add_SMTP_server}</a></td>
              </tr>
            </table>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang email_header_separator}</label>
          <div class="col-sm-10">
            <div class="form-check">
              <input class="form-check-input" type="radio" id="maildelimiter1" name="settingnew[mail][maildelimiter]" value="1"<!--{if $setting[mail][maildelimiter]=='1'}--> 
              checked<!--{/if}-->>
              <label class="form-check-label" for="maildelimiter1">{lang email_header_separator1}</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="maildelimiter2" name="settingnew[mail][maildelimiter]" value="0"<!--{if $setting[mail][maildelimiter]=='0'}--> 
              checked<!--{/if}-->>
              <label class="form-check-label" for="maildelimiter2">{lang email_header_separator2}</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="maildelimiter3" name="settingnew[mail][maildelimiter]" value="2"<!--{if $setting[mail][maildelimiter]=='2'}--> checked<!--{/if}-->>
              <label class="form-check-label" for="maildelimiter3">{lang email_header_separator3}</label>
            </div>
            <span class="help-block "> {lang email_header_separator4}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang recipients_user}</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="mailusername1" name="settingnew[mail][mailusername]" value="1" checked>
              <label class="form-check-label" for="mailusername1">{lang yes}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="mailusername2" name="settingnew[mail][mailusername]" value="0"<!--{if !$setting[mail][mailusername]}-->  checked<!--{/if}-->>
              <label class="form-check-label" for="mailusername2">{lang no}</label>
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang shield_email_error}</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="sendmail_silent1" name="settingnew[mail][sendmail_silent]" value="1" checked>
              <label class="form-check-label" for="sendmail_silent1">{lang yes}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="sendmail_silent2" name="settingnew[mail][sendmail_silent]" value="0"<!--{if !$setting[mail][sendmail_silent]}--> checked 
              <!--{/if}-->>
              <label class="form-check-label" for="sendmail_silent2">{lang no}</label>
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">通知是否邮件通知</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="tzxxyjtz1" name="settingnew[mail][tzxxyjtz]" value="1" checked>
              <label class="form-check-label" for="tzxxyjtz1">{lang yes}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="tzxxyjtz2" name="settingnew[mail][tzxxyjtz]" value="0"<!--{if !$setting[mail][tzxxyjtz]}--> checked<!--{/if}-->>
              <label class="form-check-label" for="tzxxyjtz2">{lang no}</label>
            </div>
          </div>
          <div class="col-sm-10"><span class="help-block ">{lang If the mail server is not configured, do not enable it. Otherwise, the system stalls}</span></div>
        </div>
        <dl>
          <input class="btn btn-primary" id="submit_editsubmit" name="settingsubmit" value="{lang save_changes}" type="submit">
        </dl>
      </form>
      <script>
        function addSMTP(obj, p) {
            var html = '';
            html += '<tr>';
            html += ' <td>&nbsp;</td>';
            html += ' <td><input class="form-control" style="width:120px;" type="text"  name="newsmtp[server][]" class="txt"></td>';
            html += '<td><input class="form-control" style="width:30px" type="text" value="25" name="newsmtp[port][]" class="txt"></td>';
            if (p > 0) {
                html += ' <td><label><input type="checkbox" class="form-check-input" value="1" name="newsmtp[auth][]"></label></td>';
                html += ' <td><input class="form-control" style="width:120px;" type="text"  name="newsmtp[from][]" class="txt"></td>';
                html += ' <td ><input class="form-control" style="width:100px;" type="text"  name="newsmtp[auth_username][]" class="txt"></td>';
                html += ' <td><input class="form-control" style="width:100px;" type="text"  name="newsmtp[auth_password][]" class="txt"></td>';
            }
            html += '</tr>';
            jQuery(obj).parent().parent().before(html);
        }
      </script>
      <!--{elseif $operation=='denlu'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="denlu" name="operation">
        <div class="row mb-3">
          <label for="numberoflogins" class="col-sm-2">{lang Number of login attempts}</label>
          <div class="col-sm-10">
            <div class="input-group mb-3">
              <input type="text" id="numberoflogins" class="form-control" required name="settingnew[numberoflogins]" value="$setting[numberoflogins]" />
              <span class="input-group-text">次</span>
            </div>
            <span class="help-block">{lang Number of login attempts}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label for="forbiddentime" class="col-sm-2">{lang Forbidden time}</label>
          <div class="col-sm-10">
            <div class="input-group mb-3">
              <input type="text" id="forbiddentime" class="form-control" required name="settingnew[forbiddentime]" value="$setting[forbiddentime]" />
              <span class="input-group-text">{lang sec}</span>
            </div>
            <span class="help-block">{lang How many login failures are allowed before you can log in again}</span>
         </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">登录密码加密</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="pwdsafety1" name="settingnew[pwdsafety]" value="1" <!--{if $setting[pwdsafety]}-->checked<!--{/if}-->>
              <label class="form-check-label" for="pwdsafety1">{lang enable}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="pwdsafety2" name="settingnew[pwdsafety]" value="0" <!--{if !$setting[pwdsafety]}-->checked<!--{/if}-->>
              <label class="form-check-label" for="pwdsafety2">{lang no_enable}</label>
            </div>
          <span class="help-block">选择“启用”，系统登录时的密码将进行加密后再传输</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">UID登录</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="uidlogin1" name="settingnew[uidlogin]" value="1" <!--{if $setting[uidlogin]}-->checked<!--{/if}-->>
              <label class="form-check-label" for="uidlogin1">{lang enable}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="uidlogin2" name="settingnew[uidlogin]" value="0" <!--{if !$setting[uidlogin]}-->checked<!--{/if}-->>
              <label class="form-check-label" for="uidlogin2">{lang no_enable}</label>
            </div>
          <span class="help-block">选择“启用”，系统登录时允许通过UID的方式登录验证</span>
          </div>
        </div>
        <div class="row mb-3">
          <label for="oltimespan" class="col-sm-2">用户在线时间更新时长</label>
          <div class="col-sm-10">
            <div class="input-group mb-3">
              <input type="text" class="form-control" id="oltimespan" name="settingnew[oltimespan]" <!--{if isset($setting['fileVersion'])}-->value="$setting[oltimespan]" <!--{/if}-->>
              <span class="input-group-text">{lang minute}</span>
            </div>
            <ul class="help-block">
              <li>本设置用以设定更新用户在线时间的时间频率。例如设置为<code>15</code>，则用户每在线<code>15分钟</code>更新一次记录。设置的值越小，则统计越精确，但消耗资源越大。建议设置为<code>5～30</code>范围内，<code>0</code>为不记录用户在线时间。</li>
            </ul>
          </div>
        </div>
        <dl>
          <input class="btn btn-primary" id="submit_editsubmit" name="settingsubmit"  value="{lang save_changes}" type="submit">
        </dl> 
      </form>
      <script type="text/javascript" src="static/lyear/js/bootstrap-touchspin/jquery.bootstrap-touchspin.min.js"></script>
      <script type="text/javascript">
      $(document).ready(function(){
        // 初始化数值
        $("#numberoflogins").TouchSpin({
          min: 1,
          initval: 40,
          max:99999999,
        });
        $("#forbiddentime").TouchSpin({
          min: 1,
          initval: 40,
          max:99999999,
        });
      });
      </script>
      <!--文件夹权限设置-->
      <!--{elseif $operation=='access'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="access" name="operation">
        <div class="row mb-3">
          <label class="col-sm-2">{lang allow_new_user_registration}</label>
          <div class="col-sm-10">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="settingnew[regstatus]" class="form-check-input" name="settingnew[regstatus]" value="1" <!--{if $setting[regstatus]>0}-->checked="checked"<!--{/if}-->>
              <label class="form-check-label" for="settingnew[regstatus]">{lang open_enrollment}</label>
            </div>
            <span class="help-block">{lang open_enrollment_text}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="settingnew[reglinkname]">{lang register_link_text}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="settingnew[reglinkname]" value="$setting[reglinkname]">
            <span class="help-block">{lang register_link_text_text}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="settingnew[pwlength]">{lang password_min_length}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="settingnew[pwlength]" value="$setting[pwlength]">
            <span class="help-block">{lang password_min_length_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang mandatory_password_complexity}</label>
          <div class="col-sm-10">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="strongpw1" name="settingnew[strongpw][]" value="1" <!--{if in_array(1,$setting[strongpw])}-->checked="chcked"<!--{/if}-->>
              <label class="form-check-label" for="strongpw1">{lang strongpw_1}</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="strongpw2" name="settingnew[strongpw][]" value="2" <!--{if in_array(2,$setting[strongpw])}-->checked="chcked"<!--{/if}-->>
              <label class="form-check-label" for="strongpw2">{lang strongpw_2}</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="strongpw3" name="settingnew[strongpw][]" value="3" <!--{if in_array(3,$setting[strongpw])}-->checked="chcked"<!--{/if}-->>
              <label class="form-check-label" for="strongpw3">{lang strongpw_3}</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="strongpw4" name="settingnew[strongpw][]" value="4" <!--{if in_array(4,$setting[strongpw])}-->checked="chcked"<!--{/if}-->>
              <label class="form-check-label" for="strongpw4">{lang strongpw_4}</label>
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">欢迎信息标题</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="settingnew[welcomemsgtitle]" value="$setting[welcomemsgtitle]">
            <span class="help-block">系统发送的欢迎信息的标题，不支持 HTML，不超过 75 字节。</span>
          </div>
        </div>
        <div class="row mb-3">
            <label class="col-sm-2" for="settingnew[welcomemsgtxt]">欢迎信息内容</label>
            <div class="col-sm-10">
              <textarea class="form-control" type="texterea" name="settingnew[welcomemsgtxt]" rows="5">$setting[welcomemsgtxt]</textarea> 
              <span class="help-block">系统发送的欢迎信息的内容。标题内容均支持变量替换，可以使用如下变量:
                <li><code>{username}</code> : 用户名</li>
                <li><code>{time}</code> : 发送时间</li>
                <li><code>{sitename}</code>: 网站名称（显示在页面底部的联系方式处的名称）</li>
                <li><code>{bbname}</code> : 站点名称（显示在浏览器窗口标题等位置的名称）</li>
                <li><code>{adminemail}</code> : 管理员 Email</li>
                </span>
            </div>
          </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang according_site_terms_service}</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="bbrules1" name="settingnew[bbrules]" value="1" <!--{if $setting[bbrules]>0}-->checked<!--{/if}--> onclick="jQuery('#bbrules_more').show()">
              <label class="form-check-label" for="bbrules1">{lang yes}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="bbrules2" name="settingnew[bbrules]" value="0" <!--{if $setting[bbrules]<1}-->checked<!--{/if}--> onclick="jQuery('#bbrules_more').hide()">
              <label class="form-check-label" for="bbrules2">{lang no}</label>
            </div>
          <span class="help-block">{lang registration_website_terms_service}</span>
          </div>
        </div>
        <div id="bbrules_more" style="<!--{if $setting[bbrules]>0}-->display:block<!--{else}-->display:none<!--{/if}-->">
          <div class="row mb-3">
          <label class="col-sm-2">{lang terms_service_content}</label>
          <div class="col-sm-10">
            <textarea class="form-control" type="texterea" name="settingnew[bbrulestxt]" rows="5">$setting[bbrulestxt]</textarea> 
            <span class="help-block">{lang details_sites_terms_service}</span>
          </div>
        </div>
        </div>
        <dl>
          <input class="btn btn-primary" id="submit_editsubmit" name="settingsubmit"  value="{lang save_changes}" type="submit">
        </dl>
      </form>
      <!--文件夹权限设置--> 
      <!--{elseif $operation == 'permgroup'}--> 
      <!--{template perm_group}--> 
      <!--系统空间设置--> 
      <!--{elseif $operation == 'space'}--> 
      <script type="text/javascript">
          try {
              var openarr = $openarr;
          } catch (e) {
          }
          $.getScript('dzz/system/scripts/selorg.js?{VERHASH}', function () {
              selorg.openarr = openarr;
          });
      </script>
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash"/>
        <input type="hidden" value="space" name="operation"/>
        <div class="row mb-3">
         <label for="systemSpace" class="col-sm-2">{lang setSystemSpace}</label>
          <div class="col-sm-10">
            <div class="input-group mb-3">
              <input type="text" class="form-control" id="systemSpace" placeholder="0" name="settingnew[systemSpace]" value="$setting[systemSpace]">
              <span class="input-group-text">M</span>
            </div>
            <span class="help-block">{lang setSystemSpace_tip}</span>
          </div>
        </div>
        <div id="user_space_set">
          <div class="row mb-3">
            <label class="col-sm-2">{lang upload_permissions}</label>
            <div class="col-sm-10">
              <span class="help-block">{lang upload_permissions_text}</span>
            </div>
          </div>
          <!--{loop $usergroups $value}-->
          <div class="row mb-3">
            <label class="col-sm-2">$value[grouptitle]</label>
            <div class="col-sm-10">
              <div class="input-group mb-3">
                <span class="input-group-text">{lang default_space}</span>
                <input type="text" class="form-control" id="maxspacesize{$value[groupid]}" name="group[{$value[groupid]}][maxspacesize]" value="$value[maxspacesize]">
                <span class="input-group-text">M</span>
              </div>
              <span class="help-block">{lang setting_main_default}</span>
            </div>
            <label class="col-sm-2"></label>
            <div class="col-sm-10">
              <div class="input-group mb-3">
                <span class="input-group-text">{lang file_size}</span>
                <input type="text" class="form-control" id="maxattachsize{$value[groupid]}" name="group[{$value[groupid]}][maxattachsize]" value="$value[maxattachsize]">
                <span class="input-group-text">M</span>
              </div>
              <span class="help-block">{lang setting_main_file_size}</span>
            </div>
            <label class="col-sm-2"></label>
            <div class="col-sm-10">
              <div class="input-group mb-3">
                <input class="js-tags-input form-control" type="text" id="upload_file_ext" name="group[{$value[groupid]}][attachextensions]" value="$value[attachextensions]">
                <span class="help-block">{lang setting_main_file_suffix}</span>
              </div>
            </div>
          </div>
          <!--{/loop}-->
          <div class="row mb-3">
           <label for="orgmemorySpace" class="col-sm-2">{lang space_organization_set}</label>
           <div class="col-sm-10">
             <div class="input-group mb-3">
              <input type="text" class="form-control" id="orgmemorySpace" placeholder="0" name="settingnew[orgmemorySpace]" value="$setting[orgmemorySpace]">
              <span class="input-group-text">M</span>
             </div>
             <span class="help-block">{lang space_organization_set_tip}</span>
           </div>
          </div>
          <div class="row mb-3">
           <label for="groupmemorySpace" class="col-sm-2">{lang space_group_set}</label>
           <div class="col-sm-10">
              <div class="input-group mb-3">
                <input type="text" class="form-control" id="groupmemorySpace" placeholder="0" name="settingnew[groupmemorySpace]" value="$setting[groupmemorySpace]">
                <span class="input-group-text">M</span>
              </div>
             <span class="help-block">{lang space_group_set_tip}</span>
            </div>
           </div>
        </div>
        <dl>
          <input class="btn btn-primary" id="submit_editsubmit" name="settingsubmit" value="{lang save_changes}" type="submit">
        </dl>
      </form>
      <link rel="stylesheet" type="text/css" href="static/tagsinput/jquery.tagsinput.css">
      <script type="text/javascript" src="static/tagsinput/jquery.tagsinput.js"></script>
      <!--{elseif $operation=='smiley'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="smiley" name="operation">
        <div class="row mb-3">
          <label class="col-sm-2" for="settingnewsmthumb">{lang wide_high_expression_images}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="settingnew[smthumb]" value="$setting[smthumb]" id="settingnewsmthumb">
            <span class="help-block">{lang wide_high_expression_images_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="settingnewsmcols">{lang expression_list}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="settingnew[smcols]" value="$setting[smcols]" id="settingnewsmcols">
            <span class="help-block">{lang expression_list_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="settingnewsmrows">{lang expression_line}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="settingnew[smrows]" value="$setting[smrows]" id="settingnewsmrows">
            <span class="help-block">{lang expression_line_state}</span>
          </div>
        </div>
        <dl>
          <input class="btn btn-primary" name="settingsubmit" value="{lang save_changes}" type="submit">
        </dl>
      </form>
      <!--{elseif $operation=='datetime'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="datetime" name="operation">
        <div class="row mb-3">
          <label class="col-sm-2" for="settingnewdateformat">{lang default_date_format}</label>
          <div class="col-sm-10">
            <input type="text" name="settingnew[dateformat]" class="form-control" value="$setting[dateformat]" id="settingnewdateformat">
            <span class="help-block">{lang default_date_format_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang default_time_format}</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="timeformat1" name="settingnew[timeformat]" value="24" $checktimeformat[24]/>
              <label class="form-check-label" for="timeformat1">24 {lang hourly}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="timeformat2" name="settingnew[timeformat]" value="12" $checktimeformat[12]/>
              <label class="form-check-label" for="timeformat2">12 {lang hourly}</label>
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang human_time_format}</label>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="dateconvert1" name="settingnew[dateconvert]" value="1" <!--{if $setting[dateconvert]>0}-->checked<!--{/if}-->/>
              <label class="form-check-label" for="dateconvert1">{lang yes}</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="dateconvert2" name="settingnew[dateconvert]" value="0" <!--{if $setting[dateconvert]<1}-->checked<!--{/if}-->/>
              <label class="form-check-label" for="dateconvert2">{lang no}</label>
            </div>
            <span class="help-block">{lang human_time_format_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang default_time_bad}</label>
          <div class="col-sm-10">
            <select onchange="if(this.value !== '')document.getElementById('settingnew[timeoffset]').value=this.value;" name="global_timeoffset" class="form-select">
              <!--{loop $timezones $key $value}--> 
              <option value="$key" <!--{if $key==$setting[timeoffset]}-->selected="selected" 
              <!--{/if}-->>{eval echo cutstr($value, 40, '..')}
              </option>
              <!--{/loop}-->
            </select>
            <span class="help-block">{lang default_time_bad_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2"></label>
          <div class="col-sm-10">
            <input type="text" name="settingnew[timeoffset]" class="form-control" value="$setting[timeoffset]" id="settingnew[timeoffset]">
            <span class="help-block">{lang default_time_bad_state}</span>
          </div>
        </div>
        <dl>
          <input class="btn btn-primary" name="settingsubmit" value="{lang save_changes}" type="submit">
        </dl>
      </form>
      <!--{elseif $operation=='sec'}-->
      <div class="row mb-3">
        <label class="col-sm-2">{lang board_message}</label>
        <div class="col-sm-10">
          <ul class="help-block">
            {lang setting_mainboard_message_state}
          </ul>
        </div>
      </div>
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="sec" name="operation">
        <div class="row mb-3">
          <label class="col-sm-2">{lang enable_authentication_code}</label>
          <div class="col-sm-10">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="1" name="settingnew[seccodestatus][1]" <!--{if $seccodestatus[1]>0}-->checked<!--{/if}--> id="seccodestatus1">
              <label class="form-check-label" for="seccodestatus1">{lang new_user_register}</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="1" name="settingnew[seccodestatus][2]" <!--{if $seccodestatus[2]>0}-->checked<!--{/if}--> id="seccodestatus2">
              <label class="form-check-label" for="seccodestatus2">{lang login_member}</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="1" name="settingnew[seccodestatus][3]" <!--{if $seccodestatus[3]>0}-->checked<!--{/if}--> id="seccodestatus3">
              <label class="form-check-label" for="seccodestatus3">{lang edit_password}</label>
            </div>
            <span class="help-block">{lang edit_password_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang verification_code_type}</label>
          <div class="col-sm-10">
            <div class="form-check">
              <input class="form-check-input" type="radio" id="mailsend1" onclick="document.getElementById('seccodeimageext').style.display = '';document.getElementById('seccodeimagewh').style.display = '';" <!--{if $setting[seccodedata][type]<1}-->checked<!--{/if}--> value="0"  name="settingnew[seccodedata][type]">
              <label class="form-check-label" for="mailsend1">{lang verification_code_type1}</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" id="mailsend2" onclick="document.getElementById('seccodeimageext').style.display = 'none';document.getElementById('seccodeimagewh').style.display = 'none';" <!--{if $setting[seccodedata][type]==99}-->checked<!--{/if}--> value="99" name="settingnew[seccodedata][type]">
              <label class="form-check-label" for="mailsend2">{lang verification_code_type5}</label>
            </div>
            <span class="help-block">{lang verification_code_type_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang captcha_preview}</label>
          <div class="col-sm-10">
            <!--{template common/seccheck}--> 
          </div>
        </div>
        <div id="seccodeimagewh"<!--{if $setting[seccodedata][type]<3}--> style="display:block"<!--{else}--> style="display:none" <!--{/if}-->>
          <div class="row mb-3">
            <label class="col-sm-2" for="settingnew[seccodedata][width]">{lang captcha_img_width}</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" value="$setting[seccodedata][width]" name="settingnew[seccodedata][width]" id="settingnew[seccodedata][width]">
              <span class="help-block">{lang captcha_img_width_state}</span>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-2" for="settingnew[seccodedata][height]">{lang captcha_img_height}</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" value="$setting[seccodedata][height]" name="settingnew[seccodedata][height]" id="settingnew[seccodedata][height]">
              <span class="help-block">{lang captcha_img_height_state}</span>
            </div>
          </div>
          <div id="seccodeimageext" <!--{if $setting[seccodedata][type]<2}-->style="display:block" 
          <!--{else}-->style="display:none" 
          <!--{/if}-->>
          <div class="row mb-3">
            <label class="col-sm-2" for="settingnew[seccodedata][scatter]">{lang images_break_up}</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" value="$setting[seccodedata][scatter]" name="settingnew[seccodedata][scatter]" id="settingnew[seccodedata][scatter]">
              <span class="help-block">{lang images_break_up_state}</span>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-2">{lang random_background_graphics}</label>
            <div class="col-sm-10">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedatabackground1" <!--{if $setting[seccodedata][background]>0}-->checked<!--{/if}--> value="1" name="settingnew[seccodedata][background]">
                <label class="form-check-label" for="seccodedatabackground1">{lang yes}</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedatabackground2" <!--{if $setting[seccodedata][background]<1}-->checked<!--{/if}--> value="0" name="settingnew[seccodedata][background]">
                <label class="form-check-label" for="seccodedatabackground2">{lang no}</label>
              </div>
              <ul class="help-block">
                {lang random_image_background_state}
              </ul>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-2">{lang random_background_graphics}</label>
            <div class="col-sm-10">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedataadulterate1" <!--{if $setting[seccodedata][adulterate]>0}-->checked<!--{/if}--> value="1" name="settingnew[seccodedata][adulterate]">
                <label class="form-check-label" for="seccodedataadulterate1">{lang yes}</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedataadulterate2" <!--{if $setting[seccodedata][adulterate]<1}-->checked<!--{/if}--> value="0" name="settingnew[seccodedata][adulterate]">
                <label class="form-check-label" for="seccodedataadulterate2">{lang no}</label>
              </div>
              <ul class="help-block">
                {lang random_background_graphics_state}
              </ul>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-2">{lang rabdom_ttf_font}</label>
            <div class="col-sm-10">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedatattf1" <!--{if $setting[seccodedata][ttf]>0}-->checked<!--{/if}--> value="1" name="settingnew[seccodedata][ttf]">
                <label class="form-check-label" for="seccodedatattf1">{lang yes}</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedatattf2" <!--{if $setting[seccodedata][ttf]<1}-->checked<!--{/if}--> value="0" name="settingnew[seccodedata][ttf]">
                <label class="form-check-label" for="seccodedatattf2">{lang no}</label>
              </div>
              <ul class="help-block">
                {lang rabdom_ttf_font_state}
              </ul>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-2">{lang rabdom_inclination}</label>
            <div class="col-sm-10">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedataangle1" <!--{if $setting[seccodedata][angle]>0}-->checked<!--{/if}--> value="1" name="settingnew[seccodedata][angle]">
                <label class="form-check-label" for="seccodedataangle1">{lang yes}</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedataangle2" <!--{if $setting[seccodedata][angle]<1}-->checked<!--{/if}--> value="0" name="settingnew[seccodedata][angle]">
                <label class="form-check-label" for="seccodedataangle2">{lang no}</label>
              </div>
              <ul class="help-block">
                {lang rabdom_inclination_state}
              </ul>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-2">{lang rabdom_tortuosity}</label>
            <div class="col-sm-10">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedawarping1" <!--{if $setting[seccodedata][warping]>0}-->checked<!--{/if}--> value="1" name="settingnew[seccodedata][warping]">
                <label class="form-check-label" for="seccodedawarping1">{lang yes}</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedawarping2" <!--{if $setting[seccodedata][warping]<1}-->checked<!--{/if}--> value="0" name="settingnew[seccodedata][warping]">
                <label class="form-check-label" for="seccodedawarping2">{lang no}</label>
              </div>
              <ul class="help-block">
                {lang rabdom_tortuosity_state}
              </ul>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-2">{lang rabdom_color}</label>
            <div class="col-sm-10">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedacolor1" <!--{if $setting[seccodedata][color]>0}-->checked<!--{/if}--> value="1" name="settingnew[seccodedata][color]">
                <label class="form-check-label" for="seccodedacolor1">{lang yes}</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedacolor2" <!--{if $setting[seccodedata][color]<1}-->checked<!--{/if}--> value="0" name="settingnew[seccodedata][color]">
                <label class="form-check-label" for="seccodedacolor2">{lang no}</label>
              </div>
              <ul class="help-block">
                {lang rabdom_color_state}
              </ul>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-2">{lang rabdom_size}</label>
            <div class="col-sm-10">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedasize1" <!--{if $setting['seccodedata']['size']>0}-->checked<!--{/if}--> value="1" name="settingnew[seccodedata][size]">
                <label class="form-check-label" for="seccodedasize1">{lang yes}</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedasize2" <!--{if $setting['seccodedata']['size']<1}-->checked<!--{/if}--> value="0" name="settingnew[seccodedata][size]">
                <label class="form-check-label" for="seccodedasize2">{lang no}</label>
              </div>
              <ul class="help-block">
                {lang rabdom_size_state}
              </ul>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-2">{lang text_shadow}</label>
            <div class="col-sm-10">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedashadow1" <!--{if $setting[seccodedata][shadow]>0}-->checked<!--{/if}--> value="1" name="settingnew[seccodedata][shadow]">
                <label class="form-check-label" for="seccodedashadow1">{lang yes}</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedashadow2" <!--{if $setting[seccodedata][shadow]<1}-->checked<!--{/if}--> value="0" name="settingnew[seccodedata][shadow]">
                <label class="form-check-label" for="seccodedashadow2">{lang no}</label>
              </div>
              <ul class="help-block">
              {lang text_shadow_state}
            </ul>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-2">{lang gif_animation}</label>
            <div class="col-sm-10">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedashadow1" <!--{if $setting[seccodedata][animator]>0}-->checked<!--{/if}--> value="1" name="settingnew[seccodedata][animator]">
                <label class="form-check-label" for="seccodedashadow1">{lang yes}</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" id="seccodedashadow2" <!--{if $setting[seccodedata][animator]<1}-->checked<!--{/if}--> value="0" name="settingnew[seccodedata][animator]">
                <label class="form-check-label" for="seccodedashadow2">{lang no}</label>
              </div>
              <ul class="help-block">
                {lang gif_animation_state}
              </ul>
            </div>
          </div>
        </div>
      </div>
      <dl>
        <input class="btn btn-primary" name="settingsubmit" value="{lang save_changes}" type="submit">
      </dl>
      </form>
      <style>
      .signin-form .has-feedback {
          position: relative;
      }
      .signin-form .has-feedback .form-control {
          padding-left: 36px;
      }
      .signin-form .has-feedback .mdi {
          position: absolute;
          top: 0;
          left: 0;
          right: auto;
          width: 36px;
          height: 36px;
          line-height: 36px;
          z-index: 4;
          color: #dcdcdc;
          display: block;
          text-align: center;
          pointer-events: none;
      }
      </style>
      <!--{elseif $operation=='censor'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="censor" name="operation">
        <div class="row mb-3">
          <label class="col-sm-2" for="replace">{lang words_to_replace}</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="replace" value="$replace" id="replace"/>
            <span class="help-block">{lang words_to_replace_state}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="badwords">{lang need_words_to_replace}</label>
          <div class="col-sm-10">
            <textarea class="form-control" name="badwords" rows="1" style="width:100%" id="badwords"/>$badwords</textarea>
            <span class="help-block">{lang need_words_to_replace_state}</span>
          </div>
        </div>
        <dl>
          <input class="btn btn-primary" name="settingsubmit" value="{lang save_changes}" type="submit">
        </dl> 
      </form>
      <!--{elseif $operation=='qywechat'}-->
      <form id="cpform" action="{MOD_URL}" class="form-horizontal-left" method="post" name="cpform" onsubmit="return validate(this);">
        <input type="hidden" value="{FORMHASH}" name="formhash">
        <input type="hidden" value="true" name="settingsubmit">
        <input type="hidden" value="qywechat" name="operation">
        <div class="row mb-3">
          <label class="col-sm-2" for="CorpID">CorpID</label>
          <div class="col-sm-10">
            <input type="text" id="CorpID" class="form-control" name="settingnew[CorpID]" value="$setting[CorpID]" required="true"/>
            <span class="help-block">{lang CorpID}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2" for="CorpSecret">CorpSecret</label>
          <div class="col-sm-10">
            <input type="text" id="CorpSecret" class="form-control" name="settingnew[CorpSecret]" value="$setting[CorpSecret]" required="true"/>
            <span class="help-block">{lang CorpSecret}</span>
          </div>
        </div>
        <div class="row mb-3">
          <label class="col-sm-2">{lang locking_range}</label>
          <div class="col-sm-10">
            <div class="dropdown">
              <input id="sel_syndepartment" type="hidden" name="settingnew[synorgid]" value="$setting[synorgid]"/>
              <button type="button" id="syndepartment_Menu" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown"> $syndepartment </button>
              <div id="syndepartment_dropdown_menu" class="dropdown-menu org-sel-box" role="menu" aria-labelledby="syndepartment_Menu">
                <iframe name="orgids_iframe" class="org-sel-box-iframe" src="index.php?mod=system&op=orgtree&ctrlid=syndepartment&nouser=1" frameborder="0" marginheight="0" marginwidth="0" width="100%" height="100%" allowtransparency="true"></iframe>
              </div>
            </div>
          </div>
          <ul class="help-block" style="line-height:2;">
            {lang locking_range_state}
          </ul>
        </div>
        <div class="row mb-3">
          <input type="hidden" id="fbind" name="fbind" value="bind"/>
          <button class="btn btn-outline-primary" onclick="document.getElementById('cpform').onsubmit();">{lang bundle} </button>
          &nbsp;&nbsp;
          <button class="btn btn-outline-secondary" onclick="document.getElementById('fbind').value='unbind';document.getElementById('cpform').onsubmit();"> {lang unbundle} </button>
        </div>
      </form>
      <script type="text/javascript">
          var selorg = {};

          //添加
          selorg.add = function (ctrlid, vals) {
              if (vals.length > 0) {
                  if (vals[0].orgid == 'other') vals[0].path = '{lang no_institution_users}';
                  jQuery('#' + ctrlid + '_Menu').html(vals[0].path + ' ');
                  jQuery('#sel_' + ctrlid).val(vals[0].orgid);
              } else {
                  jQuery('#' + ctrlid + '_Menu').html('{lang all_username} ');
                  jQuery('#sel_' + ctrlid).val(0);
              }
          }

          function validate(form) {
              if (document.getElementById('CorpID').value == '') {
                  document.getElementById('CorpID').focus();
                  return false;
              }
              if (document.getElementById('CorpSecret').value == '') {
                  document.getElementById('CorpSecret').focus();
                  return false;
              }
              form.submit();
          }
      </script> 
      <!--{/if}--> 
      </div>
  </div>
</div>
<script type="text/javascript">
    jQuery(document).ready(function (e) {
      jQuery('select').lyearSelect();
		jQuery('.file-hidde').fileupload({
			url: '{MOD_URL}&op=upload',
			dataType: 'json',
			autoUpload: true,
			maxChunkSize: 2000000, //2M
			maxFileSize: 2000000, // 2 MB
			acceptFileTypes: new RegExp("\.([jpe?g|gif|png])$", 'i'),
			sequentialUploads: true,
			add: function(e, data) {
				data.images = jQuery(this).siblings('.upold-add');
				data.images_src = jQuery(this).siblings('.upold-add').attr('src');
				data.input_id = jQuery(this).siblings('.build-images');
				data.progre = jQuery(this).siblings('.progress-bar');
				data.images.attr('src','dzz/images/default/thumb.png');
				data.process().done(function() {
					data.submit();
				});
			},
			progress: function(e, data) {
				var progress = parseInt(data.loaded / data.total * 100, 10);
				data.progre.css(
					'width',
					progress + '%'
				);
			},
			done: function(e, data) {
				jQuery.each(data.result.files, function(index, file) {
					if(file.error) {
						data.images.attr('src',data.images_src);
						data.progre.css('width', 0);
						showmessage('图片上传失败', 'danger', 3000, 1);
					} else {
						data.images.attr('src',file.data.img);
						data.input_id.val(file.data.aid);
						setTimeout(function(){
							data.progre.css('width', 0);
						},2000)
					}
					
				});
			}
		});
    });
</script>
<script type="text/javascript" src="static/lyear/js/bootstrap-lyear-select/bootstrap-lyear-select.js?{VERHASH}"></script>
<script type="text/javascript" src="static/jquery_file_upload/jquery.ui.widget.js?{VERHASH}"></script>
<script type="text/javascript" src="static/jquery_file_upload/jquery.iframe-transport.js?{VERHASH}"></script>
<script type="text/javascript" src="static/jquery_file_upload/jquery.fileupload.js?{VERHASH}"></script>
<script type="text/javascript" src="static/jquery_file_upload/jquery.fileupload-process.js?{VERHASH}"></script>
<script type="text/javascript" src="static/jquery_file_upload/jquery.fileupload-validate.js?{VERHASH}"></script>
<!--{template common/footer_simple}-->