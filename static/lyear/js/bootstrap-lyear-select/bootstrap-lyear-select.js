!function(e,t,l,a){var i=function(t,l){this.$element=t,this.defaults={width:"",placeholder:"请选择",search:!1},this.configs=e.extend({},this.defaults,l),void 0===bootstrap.Tooltip.VERSION?this.bsVersion="3":/4\.[0-9]\.[0-9]/.test(bootstrap.Tooltip.VERSION)?this.bsVersion="4":/5\.[0-9]\.[0-9]/.test(bootstrap.Tooltip.VERSION)?this.bsVersion="5":this.bsVersion="3"};i.prototype={init:function(){var t=this;this.$element.each(function(){t.createSelect(e(this))})},createSelect:function(t){var a=t.find("option"),i=t.find("option:selected"),s=this.configs,n=this.bsVersion;t.hide();var d='<input type="text" class="form-control" value="'+i.text()+'" '+(s.search?"":"readonly")+' placeholder="'+s.placeholder+'" data-bs-toggle="dropdown" />',o=e("<div></div>");t.after(o.addClass("lyear-select").addClass(t.attr("disabled")?"disabled":"").html(d)),s.width&&o.css("width",s.width);var r=t.next(".lyear-select");if(r.hasClass("disabled"))return r.find(".form-control").prop("readonly","true"),!1;r.append('<ul class="dropdown-menu"></ul><i class="mdi mdi-menu-down">'),a.each(function(){var t=e(this);""==t.text()&&t.text(s.placeholder),3==n?r.find("ul").append(e("<li></li>").attr("data-value",t.val()).addClass((t.is(":selected")?"selected":"")+(t.is(":disabled")?"disabled":"")).append(e("<a></a>").html(t.text()))):r.find("ul").append(e("<li></li>").attr("data-value",t.val()).addClass((t.is(":selected")?"selected":"")+(t.is(":disabled")?"disabled":"")).append(e('<a class="dropdown-item"></a>').html(t.text())))}),e(l).off("click",".lyear-select li:not(.disabled)").on("click",".lyear-select li:not(.disabled)",function(t){var l=e(this),a=l.closest(".lyear-select");a.find(".selected").removeClass("selected"),l.addClass("selected"),a.find("input.form-control").val(l.text()),a.prev("select").val(l.data("value")).trigger("change")}),this.configs.search&&e(".lyear-select .form-control").focus(function(){var t=e(this),l=t.val().replace(" ","");t.timer=setInterval(function(){var e=t.val().replace(" ","");e!=l&&(l=e,""==e?t.parent(".lyear-select").find("ul.dropdown-menu").children("li").show():(t.parent(".lyear-select").find("ul.dropdown-menu").children("li").hide(),t.parent(".lyear-select").find("ul.dropdown-menu li a").filter(":Contains("+e+")").parent("li").show()))},30);t.on("blur",function(){clearInterval(t.timer),t.off("blur"),t.off("keydown")})})}},e.fn.lyearSelect=function(e){return new i(this,e).init()}}(jQuery,window,document);