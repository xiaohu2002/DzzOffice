!function(e){var t=null,n=!1,c=null,u=!1,i=null,o=null,s=!1,l=null;function r(){n=!1}function a(){u&&(window.clearTimeout(o),u=!1,i=null)}function d(e){u||(u=!0,i=e.changedTouches[0],o=window.setTimeout(v,800))}function v(){u=!1;var e=i,t=document.createEvent("MouseEvent");t.initMouseEvent("mouseup",!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t),(t=document.createEvent("MouseEvent")).initMouseEvent("mousedown",!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,2,null),e.target.dispatchEvent(t),(t=document.createEvent("MouseEvent")).initMouseEvent("contextmenu",!0,!0,window,1,e.screenX+50,e.screenY+5,e.clientX+50,e.clientY+5,!1,!1,!1,!1,2,null),e.target.dispatchEvent(t),(t=document.createEvent("MouseEvent")).initMouseEvent("mouseup",!0,!0,window,1,e.screenX+50,e.screenY+5,e.clientX+50,e.clientY+5,!1,!1,!1,!1,2,null),e.target.dispatchEvent(t),s=!0,i=null}function E(e){var u=e.changedTouches[0],i="mousedown";simulatedEvent=document.createEvent("MouseEvent"),simulatedEvent.initMouseEvent(i,!0,!0,window,1,u.screenX,u.screenY,u.clientX,u.clientY,!1,!1,!1,!1,0,null),u.target.dispatchEvent(simulatedEvent),n?(window.clearTimeout(c),u.target==t?(t=null,n=!1,i="click",simulatedEvent=document.createEvent("MouseEvent"),simulatedEvent.initMouseEvent(i,!0,!0,window,1,u.screenX,u.screenY,u.clientX,u.clientY,!1,!1,!1,!1,0,null),u.target.dispatchEvent(simulatedEvent),i="dblclick",simulatedEvent=document.createEvent("MouseEvent"),simulatedEvent.initMouseEvent(i,!0,!0,window,1,u.screenX,u.screenY,u.clientX,u.clientY,!1,!1,!1,!1,0,null),u.target.dispatchEvent(simulatedEvent)):(t=u.target,n=!0,c=window.setTimeout(r,600),d(e))):(t=u.target,n=!0,c=window.setTimeout(r,600),d(e))}function h(e){return e.targetTouches&&e.targetTouches[0]?document.elementFromPoint(e.targetTouches[0].pageX-window.pageXOffset,e.targetTouches[0].pageY-window.pageYOffset):null}function m(c){var u="";if(!(c.touches.length>1)){switch(c.type){case"touchstart":if(e(c.changedTouches[0].target).is("select"))return;return E(c),c.preventDefault(),l=h(c),!1;case"touchmove":a(),u="mousemove",c.preventDefault(),l=h(c);break;case"touchend":if(s)return s=!1,c.preventDefault(),!1;a(),u="mouseup";break;default:return}var i=c.changedTouches[0],o=document.createEvent("MouseEvent");o.initMouseEvent(u,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),l.dispatchEvent(o),"mouseup"==u&&n&&i.target==t&&((o=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),l.dispatchEvent(o))}}e.extend(e.support,{touch:"ontouchend"in document}),e.fn.addTouch=function(){return e.support.touch&&this.each(function(e,t){t.addEventListener("touchstart",m,!1),t.addEventListener("touchmove",m,!1),t.addEventListener("touchend",m,!1),t.addEventListener("touchcancel",m,!1)}),this}}(jQuery);