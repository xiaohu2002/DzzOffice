_config = function(n) { _config.appList = n.applist || [], _config.dockList = n.docklist || [], _config.screenList = n.screenlist || [], _config.sourceids = n.sourceids || [], _config.sourcedata = n.sourcedata || [], _config.dockTaskList = [], _config.iconview = n.iconview || {}, _config.noticebanlist = n.noticebanlist || [], _config.space = n.space, _config.myspace = n.myspace, _config.imconfig = n.imconfig, _config.extopen = n.extopen || {} }, _config.dockWidth = 40, _config.dockHeight = 40, _config.titleButtons = ["CLOSE", "MAX", "RESTORE", "MIN", "FULLSCREEN", "REFRESH"], _config.documentexts = ["DZZDOC", "HTM", "HTML", "SHTM", "SHTML", "HTA", "HTC", "XHTML", "STM", "SSI", "JS", "JSON", "AS", "ASC", "ASR", "XML", "XSL", "XSD", "DTD", "XSLT", "RSS", "RDF", "LBI", "DWT", "ASP", "ASA", "ASPX", "ASCX", "ASMX", "CONFIG", "CS", "CSS", "CFM", "CFML", "CFC", "TLD", "TXT", "PHP", "PHP3", "PHP4", "PHP5", "PHP-DIST", "PHTML", "JSP", "WML", "TPL", "LASSO", "JSF", "VB", "VBS", "VTM", "VTML", "INC", "SQL", "JAVA", "EDML", "MASTER", "INFO", "INSTALL", "THEME", "CONFIG", "MODULE", "PROFILE", "ENGINE", "log", "DOC", "DOCX", "XLS", "XLSX", "PPT", "PPTX", "ODT", "ODS", "ODG", "RTF", "ET", "DPX", "WPS"], _config.txtexts = ["DZZDOC", "HTM", "HTML", "SHTM", "SHTML", "HTA", "HTC", "XHTML", "STM", "SSI", "JS", "JSON", "AS", "ASC", "ASR", "XML", "XSL", "XSD", "DTD", "XSLT", "RSS", "RDF", "LBI", "DWT", "ASP", "ASA", "ASPX", "ASCX", "ASMX", "CONFIG", "CS", "CSS", "CFM", "CFML", "CFC", "TLD", "TXT", "PHP", "PHP3", "PHP4", "PHP5", "PHP-DIST", "PHTML", "JSP", "WML", "TPL", "LASSO", "JSF", "VB", "VBS", "VTM", "VTML", "INC", "SQL", "JAVA", "EDML", "MASTER", "INFO", "INSTALL", "THEME", "CONFIG", "MODULE", "PROFILE", "ENGINE", "log"], _config.docexts = ["DOC", "DOCX", "XLS", "XLSX", "PPT", "PPTX", "ODT", "ODS", "ODG", "RTF", "ET", "DPX", "WPS", "PDF"], _config.taskOpen = {}, _config.icosTips = {}, _config.indzz = !0, _config.saveItem = {}, _config.selectall = { position: {}, container: "", icos: [] }, _config.cut = { iscut: 0, icos: [] }, _config.savetime = 1e4, _config.saveTimer = null, _config.delay = 500, _config.sendDataTo = function(n, t) { try { window.frames[n] && window.frames[n].window.acceptdata(t) } catch(i) {} }, _config.getWindowHeight = function() { var n = 0; return typeof window.innerHeight == "number" ? n = window.innerHeight : document.documentElement && document.documentElement.clientHeight ? n = document.documentElement.clientHeight : document.body && document.body.clientHeight && (n = document.body.clientHeight), n }, _config.getConfig = function(n, t, i) { jQuery.getJSON(n + "&openid=" + t + "&t=" + +new Date, function(n) { try { _config.version = n.version, _config.release = n.release, _sound.play("global"); if(n.needlogin) { _login.Clogin(); return } _config(n), jQuery("#loading_info").fadeOut("slow"), _layout.init(), _start.init(), _dock.init(), _ico.CIcolist(), _upload.init(), _login.OpenWindows(), _start.setNoticeRun(), _notice.init() } catch(t) {} BROWSER.ie > 0 && BROWSER.ie < 7 && Alert(__lang.sayByeToIE6), _config.space.groupid == 8 && Alert(__lang.need_email_avation.replace("{username}", _config.space.username).replace("{email}", _config.space.email), 0, function() { location.href = "http://mail." + _config.space.email.split("@")[1] }, __lang.js_now_email, "info"), typeof i == "function" && i(n) }) }, _config.sendConfig = function(n) { n || (n = !1); if(_config.myuid > 0) { var t = {};
		_config.saveItem.imstyle && (t.imstyle = _config.imconfig.style), _config.saveItem.imstate && (t.imstate = _config.imconfig.state), _config.saveItem.imsound && (t.imsound = _config.imconfig.sound), _config.saveItem.appList && (t.applist = _config.appList), _config.saveItem.noticebanlist && (t.noticebanlist = _config.noticebanlist), _config.saveItem.thame && (t.thame = _config.thame.system.id, t.custom_backimg = _config.thame.custom.custom_backimg, t.custom_url = _config.thame.custom.custom_url ? _config.thame.custom.custom_url : "", t.custom_color = _config.thame.custom.custom_color ? _config.thame.custom.custom_color : "", t.custom_btype = _config.thame.custom.custom_btype > 0 ? _config.thame.custom.custom_btype : 0), jQuery.isEmptyObject(t) || jQuery.ajax({ type: "post", async: n, url: _config.dataurl + "&do=save&t=" + +new Date, data: t, dataType: "json", success: function(n) { n.msg == "success" && (_config.saveItem = {}) }, error: function() { Alert(__lang.js_save_error) } }) } }, _config.initthame = function(n) { if(n) { for(var t in _config.thame.system.modules) _config.loadcss("dzz/styles/" + t + "/" + _config.thame.system.modules[t] + "/style.css", "modules_" + t);
		_config.thame.system.folder && _config.loadcss("dzz/styles/thame/" + _config.thame.system.folder + "/style.css", "thame_" + _config.thame.system.folder) } _config.thame.custom.custom_url ? _config.setback("", 0, _config.thame.custom.custom_url, 1) : _config.thame.custom.custom_backimg ? (_config.thame.custom.custom_btype == 0 && (_config.thame.custom.custom_btype = 1), _config.setback(_config.thame.custom.custom_backimg, _config.thame.custom.custom_btype, "", 1)) : _config.thame.system.url ? _config.setback("", 0, _config.thame.system.url, 1) : _config.thame.system.backimg && (_config.thame.system.btype == 0 && (_config.thame.system.btype = 1), _config.setback(_config.thame.system.backimg, _config.thame.system.btype, "", 1)), _config.thame.custom.custom_color ? _config.setColor(_config.thame.custom.custom_color, 1) : _config.thame.system.commoncolor && _config.setColor(_config.thame.system.commoncolor, 1) }, _config.setthame = function(n) { _config.thame.system = n, _config.thame.custom = { custom_backimg: "", custom_url: "", custom_color: "", custom_btype: "" }, _config.initthame(!0), _config.saveItem.thame = 1, _config.saveTimer && window.clearTimeout(_config.saveTimer), _config.saveTimer = setTimeout(function() { _config.sendConfig() }, _config.savetime), showmessage(__lang.js_change_reload, "warning", 8e3, !0) }, _config.loadcss = function(n, t) { return BROWSER.ie < 7 && BROWSER.ie > 0 && jQuery("#css_" + t).remove(), n && jcLoader().load({ type: "css", url: n, ids: "css_" + t }), !1 }, _config.setColor = function(n, t) { if(_config.thame.system.enable_color < 1) { showmessage(__lang.not_allow_color, "error", 3e3, !0, "right-bottom"); return } _config.thame.custom.custom_color = n; var r = "css_color_" + Math.random(),
		i = _config.systemurl + "&op=ajax&do=getColorCss&color=" + encodeURIComponent(n) + "&css=" + _config.thame.system.folder;
	_config.loadcss(i, r), t || (_config.saveItem.thame = 1, _config.saveTimer && window.clearTimeout(_config.saveTimer), _config.saveTimer = setTimeout(function() { _config.sendConfig() }, _config.savetime)) }, _config.deleteback = function(n) { _config.thame.custom.custom_backimg == n && (_config.thame.custom.custom_backimg = "", _config.setback(_config.thame.system.backimg, _config.thame.system.btype, _config.thame.system.url, 1), _config.saveItem.thame = 1, _config.saveTimer && window.clearTimeout(_config.saveTimer), _config.saveTimer = setTimeout(function() { _config.sendConfig() }, _config.savetime)) }, _config.setback = function(n, t, i, r) { if(r == "backimg") n == "transparent" ? n = _config.thame.system.backimg || "./dzz/images/b.gif" : n ? (_config.thame.custom.custom_backimg = n, _config.thame.custom.custom_url = "") : n = _config.thame.custom.custom_backimg || _config.thame.system.backimg || "./dzz/images/b.gif", t ? _config.thame.custom.custom_btype = t : t = _config.thame.custom.custom_btype || _config.thame.system.btype || 1, parseInt(t) == 0 && (t = 1);
	else { if(r == "btype") { _config.thame.custom.custom_btype = t, _config.thame.custom.custom_url ? _config.setback("", t, _config.thame.custom.custom_url, "url") : _config.thame.custom.custom_backimg ? _config.setback(_config.thame.custom.custom_backimg, t, "", "backimg") : _config.thame.system.url ? _config.setback("", t, _config.thame.system.url, "url") : _config.thame.system.backimg && _config.setback(_config.thame.system.backimg, t, "", "backimg"); return } if(r == "url") { _config.thame.custom.custom_url = i; if(!i) { _config.thame.custom.custom_url ? _config.setback("", t, _config.thame.custom.custom_url, "url") : _config.thame.custom.custom_backimg ? _config.setback(_config.thame.custom.custom_backimg, t, "", "backimg") : _config.thame.system.url ? _config.setback("", t, _config.thame.system.url, "url") : _config.thame.system.backimg && _config.setback(_config.thame.system.backimg, t, "", "backimg"); return } } } r != 1 && (_config.saveItem.thame = 1, _config.saveTimer && window.clearTimeout(_config.saveTimer), _config.saveTimer = setTimeout(function() { _config.sendConfig() }, _config.savetime)); if(i)
		if(i.lastIndexOf(".") !== -1) { var u = i.substr(i.lastIndexOf(".")).toLowerCase();
			u == ".jpg" || u == ".png" || u == ".jpeg" || u == ".gif" ? (t = 1, n = i) : t = 0 } else t = 0; switch(parseInt(t)) {
		case 0:
			document.getElementById("wrapper_frame").src = i, document.getElementById("wrapper_frame").width = "100%", document.getElementById("wrapper_frame").height = "100%", document.getElementById("imgbg").src = "dzz/images/b.gif"; break;
		case 1:
			document.getElementById("wrapper_frame").src = "about:blank", n.indexOf("#") === 0 ? (document.getElementById("wrapper_div").style.background = n, document.getElementById("imgbg").src = "dzz/images/b.gif") : document.getElementById("imgbg").src = n, document.getElementById("wrapper_frame").width = "0", document.getElementById("wrapper_frame").height = "0"; break;
		case 2:
			document.getElementById("imgbg").src = "dzz/images/b.gif", document.getElementById("wrapper_frame").src = "about:blank", document.getElementById("wrapper_frame").width = "0", document.getElementById("wrapper_frame").height = "0", document.getElementById("wrapper_div").style.background = n.indexOf("#") === 0 ? n : "url(" + n + ")"; break;
		case 3:
			document.getElementById("imgbg").src = "dzz/images/b.gif", document.getElementById("wrapper_frame").src = "about:blank", document.getElementById("wrapper_frame").width = "0", document.getElementById("wrapper_frame").height = "0", document.getElementById("wrapper_div").style.background = n.indexOf("#") === 0 ? n : "url(" + n + ") 50% 50% no-repeat" } }, _config.setTaskOpen = function() { var t, i, n; for(t in _config.sourcedata.icos) _config.sourcedata.icos[t].defaultopen > 0 && (i = _config.sourcedata.icos[t].desktop, n = i == "d:-1" ? _config.currentDesktop : i.indexOf("d:") !== -1 ? i.replace("d:", "") : _config.currentDesktop, _config.taskOpen[n] || (_config.taskOpen[n] = []), _config.taskOpen[n].push({ icoid: t, navid: n })) }, _config.taskOpen_run = function() { if(_config.taskOpen[_config.currentDesktop]) { for(var n = 0; n < _config.taskOpen[_config.currentDesktop].length; n++) _ico.OpenWin(_config.taskOpen[_config.currentDesktop][n].icoid, _config.taskOpen[_config.currentDesktop][n].navid, _config.taskOpen[_config.currentDesktop][n].tab, _config.taskOpen[_config.currentDesktop][n].left, _config.taskOpen[_config.currentDesktop][n].top);
		delete _config.taskOpen[_config.currentDesktop] } }, _config.init = function(n, t) { _config.initthame(), _sound.create(), window.onbeforeunload = function() { return jQuery.isEmptyObject(_config.saveItem) || _config.sendConfig(), _config.leavealert > 0 && _config.self > 0 ? __lang.confirmexit + _config.sitename + __lang.ma : void 0 }, document.oncontextmenu = function(n) { n = n ? n : window.event; var t = n.srcElement ? n.srcElement : n.target; return /input|textarea/i.test(t.tagName) || jQuery(t).hasClass('allowContextMenu') ? !0 : !1 }, document.onselectstart = function(n) { n = n ? n : window.event; var t = n.srcElement ? n.srcElement : n.target; return /input|textarea/i.test(t.tagName) ? !0 : !1 }, window.onresize = function() { _window.clientWidth = _config.screenWidth = Math.max(document.documentElement.clientWidth, document.body.clientWidth) - 1, _window.clientHeight = _config.screenHeight = _config.getWindowHeight(), _layout.resize() }, _config.getConfig(_config.dataurl, n, t) };
var windows = [];
windows.sys_market = { object: null, type: 0, title: __lang.WinTitle.market, features: "width=800,height=500,titlebutton=fullscreen|close|max|min", x: 170, y: 50 }, windows.sys_theme = { object: null, type: 0, title: __lang.WinTitle.theme, features: "width=800,height=500,titlebutton=fullscreen|close|max|min", x: 170, y: 50 }, windows.profile = { object: null, type: 0, title: __lang.WinTitle.userprofile, features: "width=800,height=500,titlebutton=fullscreen|close|max|min", x: 170, y: 50 }, windows.sys_hotkey = { object: null, type: 0, title: __lang.WinTitle.hotkey, features: "resize=no,titlebutton=close,width=380,height=350", x: 335, y: parseInt(Math.random() * 300) }, windows.Alert = { object: null, type: 1, title: __lang.WinTitle.notice, features: "resize=no,titlebutton=close,width=400,height=-1,button=OK,isModal=yes" }, windows.confirm = { object: null, type: 2, title: __lang.WinTitle.message, features: "resize=no,titlebutton=close,width=400,height=-1,button=OK|CANCEL,isModal=yes" }, windows.App = { object: null, title: "", features: "titlebutton=fullscreen|close|max|min,width=818,height=500", width: 818, height: 500 }, windows.url = { object: null, type: 0, title: __lang.js_browser, features: "titlebutton=fullscreen|close|max|min,width=800,height=500", width: 800, height: 500 }, windows.sys_filemanage = { object: null, title: __lang.WinTitle.filemanage, features: "titlebutton=fullscreen|close|max|min,width=800,height=500", width: 800, height: 500 }, windows.sys_pic = { object: null, title: __lang.WinTitle.pic, features: "titlebutton=close|max|min,width=800,height=500", width: 800, height: 500 }, windows.Folder = { object: null, title: "", features: "titlebutton=close|max|min,width=800,height=500", width: 800, height: 500 }, windows.Message = { object: null, type: 1, title: __lang.WinTitle.notice, features: "titlebutton=close,width=300,height=200" }